import"./base-D0W_z4C0.js";import{a as k,E as y}from"./el-form-item-DJ5B80l7.js";import{E as I}from"./el-input-B9UNxcP1.js";import{_ as C,E as B,a as _,q as S,A as r,k as o,j as a,C as U,I as N,g as R,u as d,H as p,J as q,G as F,f as K}from"./index-BxSgbHR9.js";import{f as M,m as T,l as w}from"./constants-BbhSUWfP.js";import{s as $,r as j}from"./login-DmyFmSrL.js";import{E as A}from"./index-C1y4kZ_Q.js";import{E as D}from"./index-BSl0X_TB.js";import"./_baseClone-C9TxUIFe.js";import"./index-r5W6hzzQ.js";import"./request-Doo85ERT.js";import"./aria-BUADUvnR.js";import"./userinfo-DyPuNU-m.js";import"./userinfo-CQJB7s17.js";import"./index-BvgBipFQ.js";import"./scroll-Kwgiw4mU.js";import"./vnode-CU6LxloI.js";import"./aria-nkjrUMQ-.js";import"./focus-trap-t7Ag-kVD.js";const G={class:"login"},H={class:"login-box"},J={class:"btn"},z={class:"link"},L={__name:"Register",setup(O){const x={email:[{required:!0,message:"请输入邮箱",trigger:"blur"},{type:"email",message:"请输入正确邮箱",trigger:"blur"}]},t=B({username:"",email:"",email_code:"",password:""}),u=_(!1),i=_("发送验证码"),V=async()=>{if(!t.email){await A.alert("邮箱未输入, 请先输入正确邮箱地址","请先输入邮箱");return}await $(t.email),u.value=!0;let s=20;i.value=`${s}秒后重新发送`;const e=setInterval(()=>{s--,i.value=`${s}秒后重新发送`,s===0&&(u.value=!1,i.value="发送验证码",clearInterval(e))},1e3)},c=_(!1),E=F(),f=async()=>{c.value=!0,await j(t)||await E.push("/admin/login"),c.value=!1};return(s,e)=>{const n=D,m=y,g=I,v=K("router-link"),b=k;return R(),S("div",G,[r("div",H,[e[7]||(e[7]=r("div",{class:"logo"},[r("span",null,"注册")],-1)),o(b,{onSubmit:U(f,["prevent"]),onKeyup:N(f,["enter"]),model:t,rules:x},{default:a(()=>[o(m,{prop:"username"},{default:a(()=>[o(n,{modelValue:t.username,"onUpdate:modelValue":e[0]||(e[0]=l=>t.username=l),class:"input",placeholder:"用户名","prefix-icon":d(M)},null,8,["modelValue","prefix-icon"])]),_:1}),o(m,{prop:"email"},{default:a(()=>[o(n,{modelValue:t.email,"onUpdate:modelValue":e[1]||(e[1]=l=>t.email=l),class:"input",placeholder:"邮箱","prefix-icon":d(T)},null,8,["modelValue","prefix-icon"])]),_:1}),o(m,{prop:"password"},{default:a(()=>[o(n,{modelValue:t.password,"onUpdate:modelValue":e[2]||(e[2]=l=>t.password=l),class:"input",placeholder:"密码","prefix-icon":d(w),type:"password","show-password":""},null,8,["modelValue","prefix-icon"])]),_:1}),o(m,{prop:"email_code"},{default:a(()=>[o(n,{modelValue:t.email_code,"onUpdate:modelValue":e[3]||(e[3]=l=>t.email_code=l),class:"input",placeholder:"验证码","prefix-icon":d(w)},{append:a(()=>[o(g,{disabled:u.value,onClick:V},{default:a(()=>[p(q(i.value),1)]),_:1},8,["disabled"])]),_:1},8,["modelValue","prefix-icon"])]),_:1}),r("div",J,[o(g,{onClick:f,type:"success",class:"btn_item",loading:c.value},{default:a(()=>e[4]||(e[4]=[p("注册")])),_:1},8,["loading"])]),r("div",z,[o(v,{to:"/admin/login"},{default:a(()=>e[5]||(e[5]=[p("登录")])),_:1}),o(v,{to:"/admin/login_code"},{default:a(()=>e[6]||(e[6]=[p("验证码登录")])),_:1})])]),_:1},8,["model"])])])}}},ue=C(L,[["__scopeId","data-v-9cac8e5b"]]);export{ue as default};
