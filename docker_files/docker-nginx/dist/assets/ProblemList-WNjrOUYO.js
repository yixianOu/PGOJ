import{b as j,u as q,_ as A,w as G}from"./base-D0W_z4C0.js";import{E as J}from"./el-pagination-FbP4tioY.js";import{E as O,a as F,b as Q}from"./el-select-D2Kip8AO.js";import"./el-scrollbar-jtoLF5oP.js";import"./el-popper-CopSMgxi.js";import{E as W,a as X}from"./el-table-column-CDM3P5m5.js";import"./el-tooltip-l0sNRNKZ.js";import{E as Y}from"./el-row-NQ-m2tyU.js";import{E as Z}from"./el-input-B9UNxcP1.js";import{d as N,c as ee,g as m,q as E,h as z,j as l,B as ae,u as g,y,x as $,r as B,_ as te,o as le,a as i,A as oe,k as e,H as w,J as k,G as ne}from"./index-BxSgbHR9.js";import{i as se,E as re,s as ie}from"./constants-BbhSUWfP.js";import{s as ue}from"./problem-CBfDY5G8.js";import{E as v}from"./request-Doo85ERT.js";import{E as ce}from"./index-BSl0X_TB.js";import"./isEqual-DMp6TwhZ.js";import"./aria-BUADUvnR.js";import"./scroll-Kwgiw4mU.js";import"./focus-trap-t7Ag-kVD.js";import"./index-r5W6hzzQ.js";const pe=j({type:{type:String,values:["primary","success","warning","info","danger","default"],default:"default"},underline:{type:Boolean,default:!0},disabled:Boolean,href:{type:String,default:""},target:{type:String,default:"_self"},icon:{type:se}}),de={click:f=>f instanceof MouseEvent},me=N({name:"ElLink"}),fe=N({...me,props:pe,emits:de,setup(f,{emit:u}){const r=f,s=q("link"),b=ee(()=>[s.b(),s.m(r.type),s.is("disabled",r.disabled),s.is("underline",r.underline&&!r.disabled)]);function c(a){r.disabled||u("click",a)}return(a,C)=>(m(),E("a",{class:$(g(b)),href:a.disabled||!a.href?void 0:a.href,target:a.disabled||!a.href?void 0:a.target,onClick:c},[a.icon?(m(),z(g(re),{key:0},{default:l(()=>[(m(),z(ae(a.icon)))]),_:1})):y("v-if",!0),a.$slots.default?(m(),E("span",{key:1,class:$(g(s).e("inner"))},[B(a.$slots,"default")],2)):y("v-if",!0),a.$slots.icon?B(a.$slots,"icon",{key:2}):y("v-if",!0)],10,["href","target"]))}});var _e=A(fe,[["__file","link.vue"]]);const ve=G(_e),ge={class:"problem-table"},be={class:"main-box"},he={__name:"ProblemList",setup(f){le(async()=>{await c()});const u=i(null),r=i(""),s=i(""),b=async()=>{if(r.value===""){v.error({message:"请先选择查询选项, 再进行搜索",plain:!0});return}else if(s.value===""){v.warning({message:"请输入关键词进行搜索",plain:!0});return}await c()&&(v.success({message:"查询成功",plain:!0}),s.value=null)},c=async()=>{const o=new URLSearchParams;o.append(r.value,s.value),o.append("page",_.value);const n=await ue(o);return n&&n.problems?(u.value=n.problems,L.value=n.problems.length===p.value):v.error({message:"查询失败, 服务错误",plain:!0}),u.value!==null},a=o=>{switch(o){case 1:return"Easy";case 2:return"Easy+";case 3:return"Normal";case 4:return"Normal+";case 5:return"Hard"}},C=o=>{switch(o){case 1:return"info";case 2:return"success";case 3:return"primary";case 4:return"warning";case 5:return"danger"}},I=ne(),P=o=>{const n=I.resolve({path:`/problem/${o}`});window.open(n.href,"_blank")},_=i(1),p=i(10),L=i(!0),T=async o=>{_.value=o,await c()};return(o,n)=>{const S=O,R=F,U=Z,x=ce,h=Y,d=W,V=ve,D=Q,M=X,H=J;return m(),E("div",ge,[oe("div",be,[e(h,null,{default:l(()=>[e(x,{modelValue:s.value,"onUpdate:modelValue":n[1]||(n[1]=t=>s.value=t),size:"large",style:{width:"650px"},placeholder:"搜索题目"},{prepend:l(()=>[e(R,{modelValue:r.value,"onUpdate:modelValue":n[0]||(n[0]=t=>r.value=t),placeholder:"查询选项",style:{width:"120px"},size:"large"},{default:l(()=>[e(S,{label:"题目名",value:"title"}),e(S,{label:"题号",value:"problem_code"})]),_:1},8,["modelValue"])]),append:l(()=>[e(U,{icon:g(ie),onClick:b,size:"large"},null,8,["icon"])]),_:1},8,["modelValue"])]),_:1}),e(h,null,{default:l(()=>[e(M,{data:u.value,style:{width:"100%",cursor:"pointer"}},{default:l(()=>[e(d,{type:"index",width:"50"}),e(d,{label:"题号",width:"150"},{default:l(t=>[e(V,{type:"default",underline:!1,onClick:K=>P(t.row.ProblemId)},{default:l(()=>[w(k(t.row.ProblemCode),1)]),_:2},1032,["onClick"])]),_:1}),e(d,{label:"题目名"},{default:l(t=>[e(V,{type:"default",underline:!1,onClick:K=>P(t.row.ProblemId)},{default:l(()=>[w(k(t.row.Title),1)]),_:2},1032,["onClick"])]),_:1}),e(d,{prop:"Source",label:"来源",width:"150"}),e(d,{fixed:"right",label:"难度",width:"100"},{default:l(t=>[e(D,{type:C(t.row.Level)},{default:l(()=>[w(k(a(t.row.Level)),1)]),_:2},1032,["type"])]),_:1})]),_:1},8,["data"])]),_:1}),e(h,null,{default:l(()=>[e(H,{"page-size":p.value,"onUpdate:pageSize":n[2]||(n[2]=t=>p.value=t),size:"large",layout:"prev, pager, next",total:L.value?_.value*p.value+1:_.value*p.value,onCurrentChange:T},null,8,["page-size","total"])]),_:1})])])}}},Me=te(he,[["__scopeId","data-v-930837fd"]]);export{Me as default};
